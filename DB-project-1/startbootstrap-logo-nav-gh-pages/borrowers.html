<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Logo Nav - Start Bootstrap Template</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/page.css" rel="stylesheet">
    <!-- Custom CSS -->
    <!-- <link href="css/logo-nav.css" rel="stylesheet">
 -->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
</head>

<body>

 <!-- Page Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="heading">LIBRARY MANAGEMENT SYSTEM</h1>
<!--                 <p>Note: You may need to adjust some CSS based on the size of your logo. The default logo size is 150x50 pixels.</p> -->
            </div>
        </div>
    </div>


<div id="wrapper">
	<!-- start header -->
	<header>
			<div class="top">
				<div class="container">
					<div class="row">
						<div class="col-md-6">
							<ul class="topleft-info">
								<!-- <li><i class="fa fa-phone"></i> +1 469 543 7647</li> -->
							</ul>
						</div>
					</div>
				</div>
			</div>	
			
        <div class="navbar navbar-default navbar-static-top navbar-form navbar-left">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <!-- <a class="navbar-brand" href="index.html"><img src="img/logo.png" alt="" width="199" height="52" /></a> -->
                </div>
                  <div class="navbar-collapse collapse ">
                    <ul class="nav navbar-nav">
                        <li class="dropdown active">
							<a href="index.html">Library</a>
							</li>
                        <li class="dropdown">
                            <a href="SearchBooks.html">Search <i class="fa fa-angle-down"></i></a>
                        </li>
                        <li class="dropdown">
                        	<a href="checkin.html">Check In  <i class="fa fa-angle-down"></i></a>
                        	</li>
                        <li class="dropdown">
                        	<a href="checkout.html">Check Out <i class="fa fa-angle-down"></i></a>
						</li>
						<li class="dropdown">
                        	<a href="borrowers.html">Borrower <i class="fa fa-angle-down"></i></a>
						</li>
						<li class="dropdown">
                        	<a href="payfines.html">Fines <i class="fa fa-angle-down"></i></a>
						</li>
                    </ul>
                </div>
            </div>
        </div>
	</header>
	
	
	<div class="panel-body">
	<form class="form-inline">
		<div class="col-sm-4 form-group">
  			<label>SSN:</label>
  			&nbsp;&nbsp;
  			<input type="ssn" class="form-control"  id="ssn" placeholder="xxx-xx-xxxx">
		</div>
		<div class="col-sm-4 form-group">
  			<label>Name:</label>
  			<input type="name" class="form-control" id="name" placeholder="Firstname , Lastname">
		</div>
		<div class="col-sm-4 form-group">
  			<label>Address:</label>
  			<input type="address" class="form-control" id="address" placeholder="Address">
		</div>
		<div class="col-sm-4 form-group">
  			<label>Phone:</label>
  			<input type="phone" class="form-control" id="phone" placeholder="xxx-xxx-xxxx">
		</div>
		<div class="col-sm-4 form-group">
  			<label>City:</label>
  			&nbsp;&nbsp;&nbsp;
  			<input type="city" class="form-control" id="city" placeholder="Dallas">
		</div>
		<div class="col-sm-4 form-group">
  			<label>email:</label>
  			&nbsp;&nbsp;&nbsp;&nbsp;
  			<input type="email" class="form-control" id="email" placeholder="abcde@fgh.com">
		</div>
		<div class="col-sm-4 form-group">
  			<label>State:</label>
  			&nbsp;
  			<input type="state" class="form-control" id="state" placeholder="TX">
		</div>
		<div class = "col-sm-12 form-group">
			<button type="button" class="btn btn-primary button" style="display: block; margin: 0 auto;">Search Book
			</button>
		</div> 
		</form>
		
	</div>
	<div id ="result"></div> 
	<script>
        $(document).ready(function () {
            $('.panel-body').on('click','.button',function(e) {
                e.preventDefault();

                var body = {
                    ssn: $("#ssn").val(),
                    name: $("#name").val(),
                    address: $("#address").val(),
                    phone: $("#phone").val(),
                    city: $("#city").val(),
                    email: $("#email").val(),
                    state: $("#state").val()
                }

                $.ajax({
                    type: 'POST',
                    url: 'http://localhost:3000/borrowers',
                    data: body,
                    dataType: 'json',
                    success: function(data) {
                        var $label = $("<label>").text('Successfully added borrower. Borrower card no is: ');
                        $('#result').empty();
                        $('#result').append($label);
                        $('#result').append('<div class="form-group">'+ data.cardno +'</div>');
                    },
                    error: function(data) {
                    console.log(data);
                        var $label = $("<label>").text(JSON.parse(data.responseText).message);
                        $('#result').empty();
                        $('#result').append($label);
                    }
                });
            });
        });
    </script>
    <!-- jQuery -->
    

</body>

</html>